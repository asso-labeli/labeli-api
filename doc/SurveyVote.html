<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8">
<title>Label[i] API Namespace: SurveyVote</title>

<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

<link type="text/css" rel="stylesheet" href="styles/site.yeti.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
<div class="navbar-header">
<a class="navbar-brand" href="index.html">Label[i] API</a>
</div>
<div class="navbar-collapse">
<ul class="nav navbar-nav">

<li class="dropdown">
<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
<ul class="dropdown-menu ">
<li><a href="Authentification.html">Authentification</a></li><li><a href="Message.html">Message</a></li><li><a href="Project.html">Project</a></li><li><a href="ProjectUser.html">ProjectUser</a></li><li><a href="Survey.html">Survey</a></li><li><a href="SurveyItem.html">SurveyItem</a></li><li><a href="SurveyVote.html">SurveyVote</a></li><li><a href="Upload.html">Upload</a></li><li><a href="User.html">User</a></li><li><a href="Vote.html">Vote</a></li>
</ul>
</li>

</ul>
</div>
</div>
</div>


<div class="container">
<div class="row">


<div class="col-md-8">

<div id="main">


	<h1 class="page-title">Namespace: SurveyVote</h1>
<section>

<header>
    
        <h2>
        SurveyVote
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
            <div class="description"><a href="SurveyVote.html#.getSurveyVotes">SurveyVote.getSurveyVotes</a>, <a href="SurveyVote.html#.getSurveyVote">SurveyVote.getSurveyVote</a> and <a href="SurveyVote.html#.deleteSurveyVote">SurveyVote.deleteSurveyVote</a> need admin rights to protect anonymity of votes.<br>
<h2>Model</h2>
<table>
<tr><td><b>Name</b></td><td><b>Type</b></td><td><b>Default Value</b></td></tr>
<tr><td>created</td><td>Date</td><td>Date.now</td></tr>
<tr><td>lastEdited</td><td>Date</td><td>Date.now</td></tr>
<tr><td>survey</td><td>ObjectId</td></tr>
<tr><td>value</td><td>ObjectId</td></tr>
<tr><td>user</td><td>ObjectId</td></tr>
</table><br>
<h2>Routing Table</h2>
<table>
<tr><td>POST /surveyVotes/:project_id</td><td><a href="SurveyVote.html#.createSurveyVote">SurveyVote.createSurveyVote</a></td></tr>
<tr><td>GET /surveyVotes/:project_id</td><td><a href="SurveyVote.html#.getSurveyVotes">SurveyVote.getSurveyVotes</a></td></tr>
<tr><td>GET /surveyVote/:surveyVote_id</td><td><a href="SurveyVote.html#.getSurveyVote">SurveyVote.getSurveyVote</a></td></tr>
<tr><td>DELETE /surveyVote/:surveyVote_id</td><td><a href="SurveyVote.html#.deleteSurveyVote">SurveyVote.deleteSurveyVote</a></td></tr>
<tr><td>GET /surveyVoteForProject/:project_id</td><td><a href="SurveyVote.html#.getSessionSurveyVote">SurveyVote.getSessionSurveyVote</a></td></tr>
<tr><td>DELETE /surveyVoteForProject/:project_id</td><td><a href="SurveyVote.html#.deleteSessionSurveyVote">SurveyVote.deleteSessionSurveyVote</a></td></tr>
<tr><td>GET /surveyVoteResult/:project_id</td><td><a href="SurveyVote.html#.getSurveyVoteResult">SurveyVote.getSurveyVoteResult</a></td></tr>
</table><br></table><br></div>
        

        
<dl class="details">
	

	

	

	

    

    

    

    

	

	
	<dt class="tag-author">Author:</dt>
	<dd class="tag-author">
		<ul>
			<li>Florian Kauder</li>
			</ul>
	</dd>
	

	

	

	



	

	

	

	
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id=".createSurveyVote"><span class="type-signature">&lt;static> </span>createSurveyVote<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Create or edit one or some surveyVotes on a survey<br>
<b>Level needed :</b> Member<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-3</td><td>Not at least a member</td></tr>
<tr><td>-21</td><td>Survey with name already exists</td></tr>
<tr><td>-22</td><td>Survey not found</td></tr>
<tr><td>-28</td><td>MangoDB error during find()</td></tr>
<tr><td>-29</td><td>MangoDB error during save()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
<tr><td>-32</td><td>Invalid items : must be an array / Invalid SurveyItem in array</td></tr>
<tr><td>-41</td><td>Survey closed</td></tr>
<tr><td>-42</td><td>Too many items</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>body.items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array(ObjectID)</span>


            
            </td>

            

            

            <td class="description last">array with id of items</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>params.survey_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the survey</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id=".deleteSessionSurveyVote"><span class="type-signature">&lt;static> </span>deleteSessionSurveyVote<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Delete surveyVotes on a survey of logged client<br>
<b>Level needed :</b> Member<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-3</td><td>Not at least a member</td></tr>
<tr><td>-28</td><td>MangoDB error during remove()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>params.survey_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the survey</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id=".deleteSurveyVote"><span class="type-signature">&lt;static> </span>deleteSurveyVote<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Delete a surveyVote<br>
<b>Level needed :</b> Admin<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-2</td><td>Not admin</td></tr>
<tr><td>-28</td><td>MangoDB error during remove()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>params.surveyVote_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the surveyVote</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id=".getSessionSurveyVote"><span class="type-signature">&lt;static> </span>getSessionSurveyVote<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get survey vote on a survey of logged client<br>
<b>Level needed :</b> Member<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-3</td><td>Not at least a member</td></tr>
<tr><td>-22</td><td>SurveyVote not found</td></tr>
<tr><td>-27</td><td>MangoDB error during find()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>params.survey_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the survey</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id=".getSurveyVote"><span class="type-signature">&lt;static> </span>getSurveyVote<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get a specific surveyVote<br>
<b>Level needed :</b> Admin<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-2</td><td>Not admin</td></tr>
<tr><td>-22</td><td>SurveyVote not found</td></tr>
<tr><td>-27</td><td>MangoDB error during find()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>params.surveyVote_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the surveyVote</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id=".getSurveyVoteResult"><span class="type-signature">&lt;static> </span>getSurveyVoteResult<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get results for a survey<br>
Result has this form :<br>
- a field with id of surveyItem for each surveyItem<br>
(example : data.54f2e15d4a1d54e2)<br>
- data.total for the total number of votes<br>
<b>Level needed :</b> Member<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-3</td><td>Not at least a member</td></tr>
<tr><td>-22</td><td>SurveyVote not found</td></tr>
<tr><td>-27</td><td>MangoDB error during find()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>params.surveyVote_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the surveyVote</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id=".getSurveyVotes"><span class="type-signature">&lt;static> </span>getSurveyVotes<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get all SurveyVotes of a survey<br>
<b>Level needed :</b> Admin<br>
<h5>Return Table:</h5>
<table>
<tr><td><b>Code</b></td><td><b>Value</b></td></tr>
<tr><td>1</td><td>Success</td></tr>
<tr><td>-1</td><td>Not logged</td></tr>
<tr><td>-2</td><td>Not admin</td></tr>
<tr><td>-22</td><td>SurveyVote not found</td></tr>
<tr><td>-27</td><td>MangoDB error during find()</td></tr>
<tr><td>-31</td><td>Invalid ID</td></tr>
</table>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Request</span>


            
            </td>

            

            

            <td class="description last">request send
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>params.survey_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjectId</span>


            
            </td>

            

            

            <td class="description last">id of the survey</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Express.Response</span>


            
            </td>

            

            

            <td class="description last">variable to send the response</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>
</div>

<div class="clearfix"></div>


<div class="col-md-3">
<div id="toc" class="col-md-3"></div>
</div>


</div>
</div>


<footer>


<span class="copyright">
DocStrap Copyright © 2012-2013 The contributors to the JSDoc3 and DocStrap projects.
</span>

<span class="jsdoc-message">
Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>
on 2015-09-25T16:14:12+02:00 using the <a
href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
</span>
</footer>

<!--<script src="scripts/sunlight.js"></script>-->
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/bootstrap-dropdown.js"></script>
<script src="scripts/toc.js"></script>

<script>
$( function () {
$( "[id*='$']" ).each( function () {
var $this = $( this );

$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
} );

$( "#toc" ).toc( {
anchorName  : function ( i, heading, prefix ) {
var id = $( heading ).attr( "id" );
return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
},
selectors   : "h1,h2,h3,h4",
showAndHide : false,
scrollTo    : "100px"
} );

$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
$( "#main span[id^='toc']" ).addClass( "toc-shim" );
$( '.dropdown-toggle' ).dropdown();
//            $( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

$( ".tutorial-section pre, .readme-section pre" ).each( function () {
var $this = $( this );

var example = $this.find( "code" );
exampleText = example.html();
var lang = /{@lang (.*?)}/.exec( exampleText );
if ( lang && lang[1] ) {
exampleText = exampleText.replace( lang[0], "" );
example.html( exampleText );
lang = lang[1];
} else {
lang = "javascript";
}

if ( lang ) {

$this
.addClass( "sunlight-highlight-" + lang )
.addClass( "linenums" )
.html( example.html() );

}
} );

Sunlight.highlightAll( {
lineNumbers : true,
showMenu : true,
enableDoclinks : true
} );
} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


</body>
</html>